<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëƒ ëƒ ì´ì™€ ë‡¸ë‡¸ì´ í‚¤ìš°ê¸°</title>
    
    <!-- 1. Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- 3. Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* ì»¤ìŠ¤í…€ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px) rotate(-5deg); }
            75% { transform: translateX(10px) rotate(5deg); }
        }
        .animate-shake { animation: shake 0.5s ease-in-out; }
        
        @keyframes chomp {
            0% { transform: scaleY(1); }
            50% { transform: scaleY(0.7); }
            100% { transform: scaleY(1); }
        }
        .animate-chomp { animation: chomp 0.3s ease-in-out infinite; }
        
        /* ë‡¸ë‡¸ì´ ì „ìš© ì ¤ë¦¬ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes jelly {
            0%, 100% { transform: scale(1, 1); }
            25% { transform: scale(0.9, 1.1); }
            50% { transform: scale(1.1, 0.9); }
            75% { transform: scale(0.95, 1.05); }
        }
        .animate-jelly { animation: jelly 2s infinite ease-in-out; }

        @keyframes levelUpGlow {
            0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); transform: scale(1); }
            50% { box-shadow: 0 0 50px 20px rgba(255, 255, 255, 0.9); transform: scale(1.2); }
            100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); transform: scale(1); }
        }
        .animate-levelup { animation: levelUpGlow 2s ease-in-out; }
    </style>
</head>
<body class="bg-amber-50 selection:bg-green-200">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback, useRef } = React;

        // --- ì•„ì´ì½˜ (SVG) ---
        const IconBase = (props) => (
            <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                {props.children}
            </svg>
        );
        const Play = (props) => <IconBase {...props} fill="currentColor"><polygon points="5 3 19 12 5 21 5 3" /></IconBase>;
        const Home = (props) => <IconBase {...props}><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></IconBase>;
        const RotateCcw = (props) => <IconBase {...props}><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></IconBase>;
        const Sparkles = (props) => <IconBase {...props}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 3v4"/><path d="M2 7h4"/><path d="M2 11h4"/></IconBase>;
        const Crown = (props) => <IconBase {...props}><path d="m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14" /></IconBase>;
        const Volume2 = (props) => <IconBase {...props}><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" /><path d="M15.54 8.46a5 5 0 0 1 0 7.07" /><path d="M19.07 4.93a10 10 0 0 1 0 14.14" /></IconBase>;
        const Music = (props) => <IconBase {...props}><path d="M9 18V5l12-2v13" /></IconBase>;
        const Music2 = (props) => <IconBase {...props}><circle cx="8" cy="18" r="4"/><path d="M12 18V2l7 4"/></IconBase>;
        const Wrench = (props) => <IconBase {...props}><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></IconBase>;
        const Heart = (props) => <IconBase {...props} fill="currentColor" stroke="none"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" /></IconBase>;


        // --- [1. ë°ì´í„° ë° ë¡œì§] ---
        
        // 1-A. ëƒ ëƒ ì´ (ë‹¨ì–´) ë°ì´í„°
        const WORD_DATA = {
          level1: [ 
            { prompt: "'ë©ë©' ì§–ëŠ” ë™ë¬¼ì€?", answer: "ê°•ì•„ì§€", options: ["ê°•ì•„ì§€", "ê³ ì–‘ì´", "ë³‘ì•„ë¦¬"] },
            { prompt: "'ì•¼ì˜¹' ìš°ëŠ” ë™ë¬¼ì€?", answer: "ê³ ì–‘ì´", options: ["ê³ ì–‘ì´", "ê°•ì•„ì§€", "í˜¸ë‘ì´"] },
            { prompt: "'ê¿€ê¿€' ì†Œë¦¬ ë‚´ëŠ” ë™ë¬¼!", answer: "ë¼ì§€", options: ["ë¼ì§€", "ì†Œ", "ë§"] },
            { prompt: "'ê¹¡ì¶©ê¹¡ì¶©' ë›°ëŠ” ë™ë¬¼?", answer: "í† ë¼", options: ["í† ë¼", "ê±°ë¶ì´", "ì‚¬ì"] },
            { prompt: "'ì—‰ê¸ˆì—‰ê¸ˆ' ê¸°ì–´ê°€ëŠ” ë™ë¬¼!", answer: "ê±°ë¶ì´", options: ["ê±°ë¶ì´", "í† ë¼", "ë±€"] },
            { prompt: "í•˜ëŠ˜ì„ 'ìŠˆì›…' ë‚ ì•„ìš”!", answer: "ë¹„í–‰ê¸°", options: ["ë¹„í–‰ê¸°", "ìë™ì°¨", "ë°°"] },
            { prompt: "ê¸°ì°»ê¸¸ì„ 'ì¹™ì¹™í­í­'!", answer: "ê¸°ì°¨", options: ["ê¸°ì°¨", "ìì „ê±°", "ë²„ìŠ¤"] },
            { prompt: "ë§›ìˆëŠ” 'ë¹¨ê°„ìƒ‰' ê³¼ì¼!", answer: "ì‚¬ê³¼", options: ["ì‚¬ê³¼", "ë°”ë‚˜ë‚˜", "í¬ë„"] },
            { prompt: "ê¸¸ì­‰ê¸¸ì­‰ 'ë…¸ë€ìƒ‰' ê³¼ì¼!", answer: "ë°”ë‚˜ë‚˜", options: ["ë°”ë‚˜ë‚˜", "ì‚¬ê³¼", "ìˆ˜ë°•"] },
            { prompt: "ë¹„ê°€ ì˜¬ ë•Œ 'í™œì§' í¼ì³ìš”!", answer: "ìš°ì‚°", options: ["ìš°ì‚°", "ëª¨ì", "ê°€ë°©"] },
            { prompt: "ë°œì— 'ì™' ì‹ ì–´ìš”!", answer: "ì‹ ë°œ", options: ["ì‹ ë°œ", "ì¥ê°‘", "ëª¨ì"] },
            { prompt: "ì†ì„ 'ë½€ë“ë½€ë“' ì”»ì–´ìš”!", answer: "ë¹„ëˆ„", options: ["ë¹„ëˆ„", "ì¹˜ì•½", "ìƒ´í‘¸"] },
            { prompt: "ì´ë¥¼ 'ì¹˜ì¹´ì¹˜ì¹´' ë‹¦ì•„ìš”!", answer: "ì¹«ì†”", options: ["ì¹«ì†”", "ë¹„ëˆ„", "ìˆ˜ê±´"] },
            { prompt: "ë°¤ì— 'ì¿¨ì¿¨' ììš”!", answer: "ì¹¨ëŒ€", options: ["ì¹¨ëŒ€", "ì±…ìƒ", "ì˜ì"] },
            { prompt: "ìŒì‹ì„ 'ë³´ê¸€ë³´ê¸€' ìš”ë¦¬í•´ìš”!", answer: "ë¶€ì—Œ", options: ["ë¶€ì—Œ", "ì•ˆë°©", "í˜„ê´€"] },
          ],
          level2: [ 
            { prompt: "ì•„ì´ìŠ¤í¬ë¦¼ì€ 'ì°¨ê°‘ë‹¤'! ë°˜ëŒ€ëŠ”?", answer: "ëœ¨ê²ë‹¤", options: ["ëœ¨ê²ë‹¤", "ì‘ë‹¤", "ë©€ë‹¤"] },
            { prompt: "ì½”ë¼ë¦¬ëŠ” 'í¬ë‹¤'! ë°˜ëŒ€ëŠ”?", answer: "ì‘ë‹¤", options: ["ë§ë‹¤", "ì‘ë‹¤", "ë†’ë‹¤"] },
            { prompt: "ê¸°ì°¨ëŠ” 'ê¸¸ë‹¤'! ë°˜ëŒ€ëŠ”?", answer: "ì§§ë‹¤", options: ["ë„“ë‹¤", "ì§§ë‹¤", "ë¬´ê²ë‹¤"] },
            { prompt: "ì‚¬íƒ•ì´ 'ë§ë‹¤'! ë°˜ëŒ€ëŠ”?", answer: "ì ë‹¤", options: ["ì ë‹¤", "í¬ë‹¤", "ë†’ë‹¤"] },
            { prompt: "ë¹„í–‰ê¸°ëŠ” 'ë†’ë‹¤'! ë°˜ëŒ€ëŠ”?", answer: "ë‚®ë‹¤", options: ["ê¹Šë‹¤", "ë‚®ë‹¤", "ë©€ë‹¤"] },
            { prompt: "ê±°ë¶ì´ëŠ” 'ëŠë¦¬ë‹¤'! ë°˜ëŒ€ëŠ”?", answer: "ë¹ ë¥´ë‹¤", options: ["ë¹ ë¥´ë‹¤", "ì•½í•˜ë‹¤", "ìˆœí•˜ë‹¤"] },
            { prompt: "ê¹ƒí„¸ì€ 'ê°€ë³ë‹¤'! ë°˜ëŒ€ëŠ”?", answer: "ë¬´ê²ë‹¤", options: ["ë¬´ê²ë‹¤", "ì–´ë‘¡ë‹¤", "ì¦ê²ë‹¤"] },
            { prompt: "ë°¤ì€ 'ì–´ë‘¡ë‹¤'! ë°˜ëŒ€ëŠ”?", answer: "ë°ë‹¤", options: ["ë°ë‹¤", "ê²€ë‹¤", "ë¶‰ë‹¤"] },
            { prompt: "ê²¨ìš¸ì€ 'ì¶¥ë‹¤'! ë°˜ëŒ€ëŠ”?", answer: "ë¥ë‹¤", options: ["ë¥ë‹¤", "ì‹œì›í•˜ë‹¤", "ë”°ëœ»í•˜ë‹¤"] },
            { prompt: "ì´ ë¬¸ì œëŠ” 'ì‰½ë‹¤'! ë°˜ëŒ€ëŠ”?", answer: "ì–´ë µë‹¤", options: ["ì–´ë µë‹¤", "ì¬ë°Œë‹¤", "ì§€ë£¨í•˜ë‹¤"] },
            { prompt: "'ì•'ìœ¼ë¡œ ê°€ì! ë°˜ëŒ€ëŠ”?", answer: "ë’¤", options: ["ì˜†", "ìœ„", "ë’¤"] },
            { prompt: "ì§‘ 'ì•ˆ'ì— ìˆì–´! ë°˜ëŒ€ëŠ”?", answer: "ë°–", options: ["ë°–", "ì†", "ê²‰"] },
            { prompt: "í•™êµì— 'ê°€ë‹¤'! ë°˜ëŒ€ëŠ”?", answer: "ì˜¤ë‹¤", options: ["ì˜¤ë‹¤", "ìë‹¤", "ë†€ë‹¤"] },
            { prompt: "ìë¦¬ì— 'ì„œë‹¤'! ë°˜ëŒ€ëŠ”?", answer: "ì•‰ë‹¤", options: ["ì•‰ë‹¤", "ëˆ•ë‹¤", "ê±·ë‹¤"] },
            { prompt: "ë¬¸ì„ 'ì—´ë‹¤'! ë°˜ëŒ€ëŠ”?", answer: "ë‹«ë‹¤", options: ["ë‹«ë‹¤", "ê¹¨ë‹¤", "ë°€ë‹¤"] },
          ],
          level3: [ 
            { prompt: "'ë‚˜ë¹„ê°€' íŒ”ë‘íŒ”ë‘~", answer: "ë‚ ì•„ìš”", options: ["ë‚ ì•„ìš”", "í—¤ì—„ì³ìš”", "êµ´ëŸ¬ê°€ìš”"] },
            { prompt: "'ë¬¼ê³ ê¸°ê°€' ë¬¼ì†ì—ì„œ~", answer: "í—¤ì—„ì³ìš”", options: ["ê±¸ì–´ìš”", "í—¤ì—„ì³ìš”", "ë‚ ì•„ìš”"] },
            { prompt: "'ì•„ê¸°ê°€' ì‘ì• ì‘ì• !", answer: "ìš¸ì–´ìš”", options: ["ìš¸ì–´ìš”", "ì›ƒì–´ìš”", "ììš”"] },
            { prompt: "'ìƒˆê°€' ì§¹ì§¹ì§¹!", answer: "ë…¸ë˜í•´ìš”", options: ["ê¸°ì–´ìš”", "ë…¸ë˜í•´ìš”", "ë›°ì–´ìš”"] },
            { prompt: "'ê°œêµ¬ë¦¬ê°€' í´ì§!", answer: "ë›°ì–´ìš”", options: ["ììš”", "ë›°ì–´ìš”", "ë¨¹ì–´ìš”"] },
            { prompt: "'ë°”ëŒì´' ìŒ©ìŒ©~", answer: "ë¶ˆì–´ìš”", options: ["ë¶ˆì–´ìš”", "ë©ˆì¶°ìš”", "ì‚¬ë¼ì ¸ìš”"] },
            { prompt: "'ê½ƒì´' ì˜ˆì˜ê²Œ~", answer: "í”¼ì–´ìš”", options: ["ì ¸ìš”", "í”¼ì–´ìš”", "ì£½ì–´ìš”"] },
            { prompt: "'ë¹„ê°€' ì£¼ë£©ì£¼ë£©~", answer: "ë‚´ë ¤ìš”", options: ["ì˜¬ë¼ê°€ìš”", "ë‚´ë ¤ìš”", "ëŒì•„ìš”"] },
            { prompt: "'ì‚¬ê³¼ë¥¼' ëƒ ëƒ !", answer: "ë¨¹ì–´ìš”", options: ["ë¨¹ì–´ìš”", "ë§ˆì…”ìš”", "ì…ì–´ìš”"] },
            { prompt: "'ìš°ìœ ë¥¼' ê¿€êº½ê¿€êº½!", answer: "ë§ˆì…”ìš”", options: ["ì”¹ì–´ìš”", "ë§ˆì…”ìš”", "ë˜ì ¸ìš”"] },
            { prompt: "'ê³µì„' ë»¥!", answer: "ì°¨ìš”", options: ["ì°¨ìš”", "ë¨¹ì–´ìš”", "ì…ì–´ìš”"] },
            { prompt: "'ê·¸ë¦¼ì„' ì“±ì“±!", answer: "ê·¸ë ¤ìš”", options: ["ì§€ì›Œìš”", "ê·¸ë ¤ìš”", "ë¶€ìˆ´ìš”"] },
            { prompt: "'ë…¸ë˜ë¥¼' ë„ë„ë¼~", answer: "ë¶ˆëŸ¬ìš”", options: ["ë“¤ì–´ìš”", "ë¶ˆëŸ¬ìš”", "ë´ìš”"] },
            { prompt: "'ì±…ì„' ì¬ë¯¸ìˆê²Œ~", answer: "ì½ì–´ìš”", options: ["ì½ì–´ìš”", "ì°¢ì–´ìš”", "ë®ì–´ìš”"] },
            { prompt: "'ì˜·ì„' ì˜ˆì˜ê²Œ~", answer: "ì…ì–´ìš”", options: ["ë²—ì–´ìš”", "ì…ì–´ìš”", "ì ‘ì–´ìš”"] },
          ]
        };

        // 1-B. ë‡¸ë‡¸ì´ (ìˆ˜í•™) ë¬¸ì œ ìƒì„±ê¸°
        const generateMathQuestion = (level) => {
            let a, b, answer, prompt, op;
            
            if (level === 1) {
                // í•œìë¦¬ ë”í•˜ê¸°
                a = Math.floor(Math.random() * 9) + 1; // 1~9
                b = Math.floor(Math.random() * (10 - a)); // í•©ì´ 10 ë¯¸ë§Œ
                if (b === 0) b = 1;
                answer = a + b;
                prompt = `${a} ë”í•˜ê¸° ${b}ì€?`;
                op = "+";
            } else if (level === 2) {
                // í•œìë¦¬ ë¹¼ê¸°
                a = Math.floor(Math.random() * 9) + 1; // 1~9
                b = Math.floor(Math.random() * a); // aë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ìŒ (ìŒìˆ˜ ë°©ì§€)
                answer = a - b;
                prompt = `${a} ë¹¼ê¸° ${b}ëŠ”?`;
                op = "-";
            } else {
                // ë‘ìë¦¬ ë”í•˜ê¸° (í•© 100 ë¯¸ë§Œ)
                a = Math.floor(Math.random() * 80) + 10; // 10~89
                b = Math.floor(Math.random() * (100 - a)); 
                if (b === 0) b = 5;
                answer = a + b;
                prompt = `${a} ë”í•˜ê¸° ${b}ì€?`;
                op = "+";
            }

            // ì˜¤ë‹µ ìƒì„± (ì •ë‹µ ê·¼ì²˜ì˜ ìˆ«ìë“¤)
            let options = new Set([answer]);
            while (options.size < 3) {
                let offset = Math.floor(Math.random() * 5) - 2; // -2 ~ +2
                let fake = answer + offset;
                if (fake >= 0 && fake !== answer) {
                    options.add(fake);
                }
            }
            
            // ì˜µì…˜ ì„ê¸° ë° ë¬¸ìì—´ ë³€í™˜
            const optionsArray = Array.from(options).sort(() => Math.random() - 0.5).map(String);

            return {
                prompt: prompt, // TTSìš©
                display: `${a} ${op} ${b}`, // í™”ë©´ í‘œì‹œìš©
                answer: String(answer),
                options: optionsArray
            };
        };

        const generateMathPool = (level, count = 20) => {
            return Array(count).fill(null).map((_, i) => ({ id: `${level}-${i}`, ...generateMathQuestion(level) }));
        };


        // --- ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ---
        const shuffleArray = (array) => {
          const newArray = [...array];
          for (let i = newArray.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
          }
          return newArray;
        };

        const shuffleOptions = (question) => {
          return {
            ...question,
            options: shuffleArray(question.options)
          };
        };


        // --- ë©”ì¸ ì•± ì»´í¬ë„ŒíŠ¸ ---
        function WordTamagotchi() {
          const [gameState, setGameState] = useState('characterSelect'); // 'characterSelect', 'menu', 'levelSelect', 'playing', 'clear'
          const [selectedChar, setSelectedChar] = useState('nyam'); // 'nyam', 'nyom'
          
          const [gameQuestions, setGameQuestions] = useState([]);
          const [currentIdx, setCurrentIdx] = useState(0);
          const [level, setLevel] = useState(1);
          const [exp, setExp] = useState(0); 
          const maxExpPerLevel = 20; 

          const [monsterState, setMonsterState] = useState('idle'); 
          const [swallowedWord, setSwallowedWord] = useState('');
          const [wrongWord, setWrongWord] = useState(null);
          
          const [isMusicPlaying, setIsMusicPlaying] = useState(false);
          const [showDebug, setShowDebug] = useState(false);
          const [audioPath, setAudioPath] = useState('public/music/bgm.mp3');
          const [audioLog, setAudioLog] = useState([]);
          const audioRef = useRef(null);

          // ìŠ¤íƒ€ì¼ ì •ì˜
          const getStyles = () => {
              if (selectedChar === 'nyam') {
                  return {
                      bg: "bg-green-300",
                      text: "text-green-600",
                      lightBg: "bg-green-50",
                      label: "ëƒ ëƒ ì´",
                      shape: "rounded-full w-32 h-32",
                      eye: "w-4 h-4 bg-gray-800",
                      levels: [
                          { size: 'w-32 h-32', desc: 'ì†Œë¦¬ì™€ ë‹¨ì–´' },
                          { size: 'w-48 h-48', desc: 'ë°˜ëŒ€ë§' },
                          { size: 'w-64 h-64', desc: 'ë¬¸ì¥ ì™„ì„±' }
                      ]
                  };
              } else {
                  // ë‡¸ë‡¸ì´ (ìŠ¬ë¼ì„)
                  return {
                      bg: "bg-cyan-400",
                      text: "text-cyan-600",
                      lightBg: "bg-cyan-50",
                      label: "ë‡¸ë‡¸ì´",
                      shape: "rounded-[3rem] w-28 h-40 animate-jelly", // ê¸¸ì­‰í•œ ëª¨ì–‘
                      eye: "w-3 h-5 bg-white", // ëˆˆ ëª¨ì–‘ë„ ì¡°ê¸ˆ ë‹¤ë¥´ê²Œ
                      levels: [
                          { size: 'w-28 h-40', desc: 'í•œìë¦¬ ë”í•˜ê¸°' },
                          { size: 'w-36 h-52', desc: 'í•œìë¦¬ ë¹¼ê¸°' },
                          { size: 'w-48 h-64', desc: 'ë‘ìë¦¬ ë”í•˜ê¸°' }
                      ]
                  };
              }
          };
          const currentStyle = getStyles();

          const addLog = (msg) => {
             const time = new Date().toLocaleTimeString();
             setAudioLog(prev => [`[${time}] ${msg}`, ...prev].slice(0, 5));
          };

          // ì˜¤ë””ì˜¤ ì´ˆê¸°í™”
          useEffect(() => {
            const audio = new Audio();
            audioRef.current = audio;
            audio.loop = true;
            audio.volume = 0.3;
            
            const handleCanPlay = () => addLog("ì˜¤ë””ì˜¤ ì¤€ë¹„ ì™„ë£Œ");
            const handleError = (e) => {
                let errorMsg = "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬";
                if (audio.error) errorMsg = `Code: ${audio.error.code}`;
                addLog(`ì—ëŸ¬ ë°œìƒ: ${errorMsg}`);
                setIsMusicPlaying(false);
            };
            const handlePlay = () => { setIsMusicPlaying(true); };
            const handlePause = () => { setIsMusicPlaying(false); };

            audio.addEventListener('canplay', handleCanPlay);
            audio.addEventListener('error', handleError);
            audio.addEventListener('play', handlePlay);
            audio.addEventListener('pause', handlePause);
            audio.src = audioPath; // ì´ˆê¸° ë¡œë“œ

            return () => {
                audio.removeEventListener('canplay', handleCanPlay);
                audio.removeEventListener('error', handleError);
                audio.removeEventListener('play', handlePlay);
                audio.removeEventListener('pause', handlePause);
                audio.pause();
                audioRef.current = null;
            };
          }, []);

          // ì˜¤ë””ì˜¤ ê²½ë¡œ ë³€ê²½
          useEffect(() => {
              if(audioRef.current) {
                  addLog(`ê²½ë¡œ ì„¤ì •: ${audioPath}`);
                  audioRef.current.src = audioPath;
                  setIsMusicPlaying(false);
              }
          }, [audioPath]);

          const toggleMusic = () => {
            if (!audioRef.current) return;
            if (isMusicPlaying) {
              audioRef.current.pause();
            } else {
              audioRef.current.play().catch(e => {
                  addLog(`ì¬ìƒ ì‹¤íŒ¨: ${e.name}`);
                  console.error(e);
              });
            }
          };

          const changePath = (newPath) => setAudioPath(newPath);

          // ê²Œì„ ë°ì´í„° ì¤€ë¹„
          const prepareGameData = (char, startLevel) => {
            let questions = [];
            if (char === 'nyam') {
                if (startLevel === 1) questions = [...shuffleArray(WORD_DATA.level1), ...shuffleArray(WORD_DATA.level2), ...shuffleArray(WORD_DATA.level3)];
                else if (startLevel === 2) questions = [...shuffleArray(WORD_DATA.level2), ...shuffleArray(WORD_DATA.level3)];
                else questions = [...shuffleArray(WORD_DATA.level3)];
                return questions.map(shuffleOptions);
            } else {
                // ë‡¸ë‡¸ì´ (ìˆ˜í•™) - ë ˆë²¨ë§ˆë‹¤ 20ê°œì”© ìƒì„±
                const l1 = generateMathPool(1, 20);
                const l2 = generateMathPool(2, 20);
                const l3 = generateMathPool(3, 20);
                if (startLevel === 1) questions = [...l1, ...l2, ...l3];
                else if (startLevel === 2) questions = [...l2, ...l3];
                else questions = [...l3];
                return questions;
            }
          };

          const speakWord = useCallback((text) => {
            if ('speechSynthesis' in window) {
              window.speechSynthesis.cancel();
              const utterance = new SpeechSynthesisUtterance(text);
              utterance.lang = 'ko-KR';
              utterance.rate = 0.85; 
              utterance.pitch = level === 1 ? 1.4 : (level === 2 ? 1.1 : 0.9);
              window.speechSynthesis.speak(utterance);
            }
          }, [level]);

          const playSound = useCallback((type) => {
            try {
              const ctx = new (window.AudioContext || window.webkitAudioContext)();
              const osc = ctx.createOscillator();
              const gainNode = ctx.createGain();
              osc.connect(gainNode);
              gainNode.connect(ctx.destination);
              
              const now = ctx.currentTime;
              if (type === 'eat') {
                osc.type = 'triangle';
                osc.frequency.setValueAtTime(400, now);
                osc.frequency.exponentialRampToValueAtTime(800, now + 0.1);
                gainNode.gain.setValueAtTime(0.2, now);
                gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                osc.start(now);
                osc.stop(now + 0.1);
              } else if (type === 'happy') {
                osc.type = 'sine';
                osc.frequency.setValueAtTime(523.25, now);
                osc.frequency.setValueAtTime(659.25, now + 0.1);
                gainNode.gain.setValueAtTime(0.1, now);
                gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.3);
                osc.start(now);
                osc.stop(now + 0.3);
              } else if (type === 'levelup') {
                osc.type = 'square';
                osc.frequency.setValueAtTime(440, now);
                osc.frequency.setValueAtTime(554, now + 0.1);
                osc.frequency.setValueAtTime(659, now + 0.2);
                osc.frequency.setValueAtTime(880, now + 0.3);
                gainNode.gain.setValueAtTime(0.1, now);
                gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.6);
                osc.start(now);
                osc.stop(now + 0.6);
              }
            } catch (e) { console.log("Audio API issue"); }
          }, []);

          const selectCharacter = (char) => {
              setSelectedChar(char);
              setGameState('menu');
          };

          const startGame = (startLevel) => {
            const questions = prepareGameData(selectedChar, startLevel);
            setGameQuestions(questions);
            setCurrentIdx(0);
            setLevel(startLevel);
            setExp(0);
            setMonsterState('idle');
            setGameState('playing');
          };

          const handleFeed = (selectedOption) => {
            if (monsterState !== 'idle' && monsterState !== 'sad') return;
            
            // ë‡¸ë‡¸ì´ì¸ ê²½ìš° ìˆ«ìë§Œ ì½ì–´ì¤Œ
            speakWord(selectedOption);
            
            const currentData = gameQuestions[currentIdx];
            
            if (selectedOption === currentData.answer) {
              setMonsterState('eating');
              setSwallowedWord(selectedOption);
              playSound('eat');
              
              setTimeout(() => {
                setMonsterState('happy');
                playSound('happy');
                setSwallowedWord('');
                
                const newExp = exp + 1;
                setExp(newExp);

                setTimeout(() => {
                  if (newExp >= maxExpPerLevel) {
                    handleLevelUp();
                  } else {
                    nextQuestion();
                  }
                }, 1500);
              }, 600); 

            } else {
              setMonsterState('sad');
              setWrongWord(selectedOption);
              setTimeout(() => {
                setMonsterState('idle');
                setWrongWord(null);
              }, 800);
            }
          };

          const handleLevelUp = () => {
            if (level === 3) {
              setGameState('clear');
              speakWord(`ì¶•í•˜í•´ìš”! ${currentStyle.label}ê°€ ì™•ê´€ì„ ì¼ì–´ìš”!`);
              return;
            }
            
            setMonsterState('levelup');
            playSound('levelup');
            speakWord(`${currentStyle.label}ê°€ ì‘¥ì‘¥ ìëì–´ìš”!`);
            
            setTimeout(() => {
              setLevel(prev => prev + 1);
              setExp(0);
              setMonsterState('idle');
              nextQuestion(true);
            }, 2500);
          };

          const nextQuestion = (isAfterLevelUp = false) => {
            const nextIdx = currentIdx + 1;
            if (nextIdx < gameQuestions.length) {
              setCurrentIdx(nextIdx);
              setMonsterState('idle');
            }
          };

          // --- ë Œë”ë§ í—¬í¼ ---
          const renderOverlayControls = () => (
             <>
                <div className="absolute top-6 right-6 flex gap-2 z-50">
                    <button onClick={toggleMusic} className={`p-3 rounded-full shadow-md transition-all ${isMusicPlaying ? 'bg-green-100 text-green-600' : 'bg-gray-100 text-gray-400 hover:bg-gray-200'}`}>
                      {isMusicPlaying ? <Music /> : <Music2 />}
                    </button>
                    <button onClick={() => setShowDebug(!showDebug)} className={`p-3 rounded-full shadow-md transition-all ${showDebug ? 'bg-blue-100 text-blue-600' : 'bg-gray-100 text-gray-400 hover:bg-gray-200'}`}>
                      <Wrench />
                    </button>
                </div>
                {showDebug && (
                    <div className="absolute bottom-4 right-4 bg-black/80 text-white p-4 rounded-xl text-xs z-50 w-64 shadow-2xl backdrop-blur-sm">
                        <div className="mb-2 text-yellow-400 font-bold">ğŸ”§ ë””ë²„ê·¸</div>
                        <div>Status: {isMusicPlaying ? "Playing" : "Stopped"}</div>
                        <div className="break-all text-blue-300">{audioPath}</div>
                        <div className="flex flex-wrap gap-1 mt-2">
                             <button onClick={() => changePath('public/music/bgm.mp3')} className="bg-gray-700 px-2 py-1 rounded">public/...</button>
                             <button onClick={() => changePath('music/bgm.mp3')} className="bg-gray-700 px-2 py-1 rounded">music/...</button>
                        </div>
                        <div className="mt-2 border-t pt-2 max-h-24 overflow-y-auto font-mono text-gray-400">
                            {audioLog.map((l,i) => <div key={i}>{l}</div>)}
                        </div>
                    </div>
                )}
             </>
          );

          // 1. ìºë¦­í„° ì„ íƒ í™”ë©´ (ìµœì´ˆ í™”ë©´)
          if (gameState === 'characterSelect') {
              return (
                  <div className="flex flex-col items-center justify-center min-h-screen font-sans p-6 rounded-2xl relative bg-amber-50">
                      {renderOverlayControls()}
                      <h1 className="text-3xl md:text-5xl font-extrabold text-gray-800 mb-8 tracking-tight">ëˆ„êµ¬ë¥¼ í‚¤ì›Œë³¼ê¹Œìš”?</h1>
                      
                      <div className="flex flex-col md:flex-row gap-8 w-full max-w-2xl justify-center items-stretch">
                          {/* ëƒ ëƒ ì´ ì„ íƒ */}
                          <button onClick={() => selectCharacter('nyam')} className="flex-1 bg-white p-8 rounded-3xl shadow-xl border-4 border-green-200 hover:border-green-400 hover:scale-105 transition-all flex flex-col items-center group">
                              <div className="w-32 h-32 bg-green-300 rounded-full flex flex-col items-center justify-center mb-6 group-hover:animate-bounce">
                                  <div className="flex space-x-3 mb-2"><div className="w-4 h-4 bg-gray-800 rounded-full"></div><div className="w-4 h-4 bg-gray-800 rounded-full"></div></div>
                                  <div className="w-10 h-4 bg-gray-800 rounded-b-full"></div>
                              </div>
                              <h2 className="text-2xl font-bold text-green-600 mb-2">ê¸€ì ê´´ë¬¼ ëƒ ëƒ ì´</h2>
                              <p className="text-gray-500">ë‹¨ì–´ë¥¼ ëƒ ëƒ  ë¨¹ì–´ìš”!</p>
                          </button>

                          {/* ë‡¸ë‡¸ì´ ì„ íƒ */}
                          <button onClick={() => selectCharacter('nyom')} className="flex-1 bg-white p-8 rounded-3xl shadow-xl border-4 border-cyan-200 hover:border-cyan-400 hover:scale-105 transition-all flex flex-col items-center group">
                              <div className="w-28 h-40 bg-cyan-400 rounded-[3rem] flex flex-col items-center justify-center mb-6 group-hover:animate-jelly">
                                  <div className="flex space-x-4 mb-3"><div className="w-3 h-5 bg-white rounded-full"></div><div className="w-3 h-5 bg-white rounded-full"></div></div>
                                  <div className="w-8 h-2 bg-white/50 rounded-full"></div>
                              </div>
                              <h2 className="text-2xl font-bold text-cyan-600 mb-2">ìˆ«ì ìŠ¬ë¼ì„ ë‡¸ë‡¸ì´</h2>
                              <p className="text-gray-500">ìˆ«ìë¥¼ ë‡¸ë‡¸ ë¨¹ì–´ìš”!</p>
                          </button>
                      </div>
                  </div>
              );
          }

          // 2. ë©”ì¸ ë©”ë‰´ (ìºë¦­í„° ì„ íƒ í›„)
          if (gameState === 'menu') {
            return (
              <div className={`flex flex-col items-center justify-center min-h-screen font-sans p-6 rounded-2xl relative ${currentStyle.lightBg}`}>
                {renderOverlayControls()}
                
                <div className="absolute top-6 left-6">
                    <button onClick={() => setGameState('characterSelect')} className="px-4 py-2 bg-white rounded-full text-gray-500 font-bold hover:bg-gray-100 shadow-sm flex items-center gap-2">
                        <Home size={18}/> ìºë¦­í„° ë°”ê¾¸ê¸°
                    </button>
                </div>

                <div className={`${currentStyle.shape} ${currentStyle.bg} flex flex-col items-center justify-center mb-6 animate-bounce shadow-lg transition-all`}>
                  <div className={`flex space-x-3 mb-2`}>
                      <div className={`${currentStyle.eye} rounded-full`}></div>
                      <div className={`${currentStyle.eye} rounded-full`}></div>
                  </div>
                  <div className="w-10 h-4 bg-black/20 rounded-b-full"></div>
                </div>
                
                <h1 className="text-4xl md:text-5xl font-extrabold text-gray-800 mb-4 tracking-tight">
                    {selectedChar === 'nyam' ? <>ê¸€ì ê´´ë¬¼ <span className={currentStyle.text}>ëƒ ëƒ ì´</span></> : <>ìˆ«ì ìŠ¬ë¼ì„ <span className={currentStyle.text}>ë‡¸ë‡¸ì´</span></>}
                </h1>
                <p className="text-lg text-gray-600 mb-10 font-medium">
                    {selectedChar === 'nyam' ? "ë‹¨ì–´ë¥¼ ë¨¹ê³  ë¬´ëŸ­ë¬´ëŸ­ ìë¼ë‚˜ìš”!" : "ìˆ«ìë¥¼ ë¨¹ìœ¼ë©´ ì‘¥ì‘¥ ì»¤ì ¸ìš”!"}
                </p>
                
                <button 
                  onClick={() => setGameState('levelSelect')}
                  className={`px-10 py-5 ${currentStyle.bg} text-white rounded-full font-bold text-2xl hover:brightness-90 transition-all shadow-xl active:scale-95 flex items-center space-x-2`}
                >
                  <Play fill="currentColor" />
                  <span>ë†€ì´ ì‹œì‘!</span>
                </button>
              </div>
            );
          }

          // 3. ë ˆë²¨ ì„ íƒ
          if (gameState === 'levelSelect') {
            return (
                <div className={`flex flex-col items-center justify-center min-h-screen font-sans p-6 rounded-2xl ${currentStyle.lightBg}`}>
                    {renderOverlayControls()}
                    <h2 className="text-3xl font-extrabold text-gray-800 mb-8">ëª‡ ë‹¨ê³„ë¶€í„° ì‹œì‘í• ê¹Œìš”?</h2>
                    
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl">
                        {[1, 2, 3].map((lv) => (
                            <button 
                                key={lv}
                                onClick={() => startGame(lv)}
                                className={`flex flex-col items-center p-6 bg-white rounded-3xl border-4 ${selectedChar === 'nyam' ? 'border-green-200 hover:border-green-400' : 'border-cyan-200 hover:border-cyan-400'} hover:bg-white/50 transition-all shadow-md active:scale-95`}
                            >
                                <div className={`${currentStyle.levels[lv-1].size} ${currentStyle.bg} ${selectedChar === 'nyom' ? 'rounded-[3rem]' : 'rounded-full'} mb-4 shadow-sm flex items-center justify-center text-white font-bold text-xl opacity-80`}>
                                    Lv.{lv}
                                </div>
                                <span className="text-xl font-bold text-gray-700">{lv}ë‹¨ê³„</span>
                                <span className="text-sm text-gray-500 mt-2">{currentStyle.levels[lv-1].desc}</span>
                            </button>
                        ))}
                    </div>

                    <button onClick={() => setGameState('menu')} className="mt-10 px-6 py-2 bg-gray-200 rounded-full text-gray-600 font-bold hover:bg-gray-300">
                        ë’¤ë¡œ ê°€ê¸°
                    </button>
                </div>
            );
          }

          // 4. í´ë¦¬ì–´ í™”ë©´
          if (gameState === 'clear') {
            return (
              <div className="flex flex-col items-center justify-center min-h-screen font-sans p-6 rounded-2xl text-center bg-purple-50">
                {renderOverlayControls()}
                <Sparkles className="text-purple-400 w-16 h-16 mb-6 animate-spin-slow" />
                
                <div className={`${currentStyle.levels[2].size} ${currentStyle.bg} ${selectedChar === 'nyom' ? 'rounded-[3rem]' : 'rounded-full'} flex flex-col items-center justify-center mb-8 shadow-2xl animate-bounce relative`}>
                  <div className="absolute -top-12 animate-pulse">
                    <Crown className="text-yellow-400 fill-yellow-400 drop-shadow-lg w-16 h-16" />
                  </div>
                  <div className="flex space-x-6 mb-4">
                      <div className={`${currentStyle.eye} rounded-full`}></div>
                      <div className={`${currentStyle.eye} rounded-full`}></div>
                  </div>
                  <div className="w-24 h-12 bg-black/20 rounded-b-full relative overflow-hidden"><div className="absolute bottom-0 w-full h-4 bg-red-400"></div></div>
                </div>
                
                <h2 className="text-4xl md:text-5xl font-extrabold text-purple-600 mb-6">{currentStyle.label}ê°€ ì™•ì´ ë˜ì—ˆì–´ìš”!</h2>
                <p className="text-xl text-gray-500 mb-8 font-bold">ì°¸ ì˜í–ˆì–´ìš”! ë©‹ì§„ ë°•ì‚¬ë‹˜!</p>
                <div className="flex gap-4">
                    <button 
                      onClick={() => setGameState('menu')}
                      className="flex items-center space-x-2 px-8 py-4 bg-gray-800 text-white rounded-full font-bold text-xl hover:bg-gray-700 transition-colors shadow-lg active:scale-95"
                    >
                      <RotateCcw size={24} />
                      <span>ë‹¤ì‹œ í‚¤ìš°ê¸°</span>
                    </button>
                    <button 
                      onClick={() => setGameState('characterSelect')}
                      className="flex items-center space-x-2 px-8 py-4 bg-white text-gray-800 border-2 border-gray-200 rounded-full font-bold text-xl hover:bg-gray-50 transition-colors shadow-lg active:scale-95"
                    >
                      <Home size={24} />
                      <span>ë‹¤ë¥¸ ì¹œêµ¬ ë§Œë‚˜ê¸°</span>
                    </button>
                </div>
              </div>
            );
          }

          const currentData = gameQuestions[currentIdx];
          // ë‡¸ë‡¸ì´ì¸ ê²½ìš° prompt(TTSìš©)ì™€ display(í™”ë©´í‘œì‹œìš©)ê°€ ë‹¤ë¦„
          const displayPrompt = currentData.display || currentData.prompt;
          const progressPercent = (exp / maxExpPerLevel) * 100;

          // 5. ê²Œì„ í”Œë ˆì´ í™”ë©´
          return (
            <div className={`flex flex-col min-h-screen font-sans p-4 rounded-2xl relative overflow-hidden ${currentStyle.lightBg}`}>
              <div className="flex justify-between items-center bg-white p-4 rounded-3xl shadow-sm z-10">
                <div className="flex flex-col w-full mr-4">
                  <div className="flex justify-between items-end mb-1">
                    <span className="text-sm font-bold text-gray-500">{currentStyle.label} (Lv.{level})</span>
                    <span className="text-xs font-bold text-gray-400">{exp} / {maxExpPerLevel}</span>
                  </div>
                  <div className="w-full h-3 bg-gray-200 rounded-full overflow-hidden">
                    <div 
                      className={`h-full ${selectedChar === 'nyam' ? 'bg-green-400' : 'bg-cyan-400'} transition-all duration-500 ease-out`}
                      style={{ width: `${progressPercent}%` }}
                    />
                  </div>
                </div>
                <button onClick={() => setGameState('menu')} className="p-2 bg-gray-100 rounded-full hover:bg-gray-200 flex-shrink-0">
                  <Home className="text-gray-600" size={24} />
                </button>
              </div>
              
              {renderOverlayControls()}

              <div className="flex-1 flex flex-col items-center justify-center w-full relative">
                <div 
                  onClick={() => speakWord(currentData.prompt)}
                  className={`
                    cursor-pointer active:scale-95
                    mb-8 bg-white px-6 py-4 rounded-3xl rounded-br-none shadow-md border-2 border-gray-100 
                    transition-all duration-300 ${selectedChar === 'nyam' ? 'hover:border-green-300' : 'hover:border-cyan-300'} hover:shadow-lg group
                    ${monsterState === 'levelup' ? 'opacity-0' : 'opacity-100'}
                  `}
                >
                  <div className="flex items-center justify-center space-x-2">
                    <p className="text-2xl md:text-3xl font-bold text-gray-800 text-center break-keep">
                      {monsterState === 'happy' ? (selectedChar === 'nyam' ? "ìš°ì™€! ê¿€ë§›ì´ì•¼!" : "ëƒ ëƒ ! ìˆ«ì ë§›ìˆì–´!") : displayPrompt}
                    </p>
                    {monsterState !== 'happy' && (
                      <Volume2 className={`text-gray-400 ${selectedChar === 'nyam' ? 'group-hover:text-green-500' : 'group-hover:text-cyan-500'} transition-colors`} size={24} />
                    )}
                  </div>
                </div>

                <div className={`
                  relative transition-all duration-700 ease-in-out flex flex-col items-center justify-center shadow-xl
                  ${currentStyle.levels[level-1].size} ${currentStyle.bg} ${selectedChar === 'nyom' ? 'rounded-[3rem] animate-jelly' : 'rounded-full'}
                  ${monsterState === 'sad' ? 'animate-shake bg-gray-400' : ''}
                  ${monsterState === 'happy' ? 'animate-bounce' : ''}
                  ${monsterState === 'levelup' ? 'animate-levelup bg-yellow-300' : ''}
                `}>
                  {level === 3 && monsterState === 'happy' && (
                    <div className="absolute -top-10 animate-bounce transition-opacity duration-500">
                      <Crown className="text-yellow-400 fill-yellow-400 drop-shadow-md w-12 h-12" />
                    </div>
                  )}

                  <div className={`flex transition-all duration-300 ${level === 1 ? 'space-x-3' : level === 2 ? 'space-x-5' : 'space-x-8'} mb-2`}>
                    {monsterState === 'happy' ? (
                      <>
                        <div className="text-gray-800 font-bold text-2xl md:text-4xl">^</div>
                        <div className="text-gray-800 font-bold text-2xl md:text-4xl">^</div>
                      </>
                    ) : monsterState === 'sad' ? (
                      <>
                        <div className="text-gray-800 font-bold text-2xl md:text-4xl">{'>'}</div>
                        <div className="text-gray-800 font-bold text-2xl md:text-4xl">{'<'}</div>
                      </>
                    ) : (
                      <>
                        <div className={`${currentStyle.eye} rounded-full`}></div>
                        <div className={`${currentStyle.eye} rounded-full`}></div>
                      </>
                    )}
                  </div>

                  <div className={`
                    bg-black/20 transition-all duration-300 flex items-center justify-center overflow-hidden relative
                    ${monsterState === 'idle' ? 'w-1/3 h-2 rounded-full mt-2' : ''}
                    ${monsterState === 'eating' ? 'w-1/2 h-1/2 rounded-full animate-chomp' : ''}
                    ${monsterState === 'happy' ? 'w-1/2 h-1/3 rounded-b-full mt-1' : ''}
                    ${monsterState === 'sad' ? 'w-1/3 h-2 rounded-t-full mt-4' : ''}
                    ${monsterState === 'levelup' ? 'w-1/2 h-1/3 rounded-b-full mt-1' : ''}
                  `}>
                    {monsterState === 'eating' && swallowedWord && (
                      <span className="text-white font-bold text-xl md:text-3xl absolute animate-ping">{swallowedWord}</span>
                    )}
                    {(monsterState === 'happy' || monsterState === 'levelup') && (
                      <div className="absolute bottom-0 w-3/4 h-1/2 bg-red-400 rounded-t-full"></div>
                    )}
                  </div>
                  
                  {monsterState === 'happy' && (
                    <Heart className="absolute -top-6 -right-4 text-red-500 fill-red-500 animate-bounce w-8 h-8" />
                  )}
                </div>
              </div>

              <div className={`w-full grid grid-cols-1 md:grid-cols-3 gap-4 mt-auto transition-opacity duration-300 ${(monsterState === 'eating' || monsterState === 'levelup') ? 'opacity-0 pointer-events-none' : 'opacity-100'}`}>
                {currentData.options.map((word, index) => {
                  const isWrong = wrongWord === word;
                  return (
                    <button
                      key={`${currentIdx}-${index}`}
                      onClick={() => handleFeed(word)}
                      disabled={monsterState !== 'idle' && monsterState !== 'sad'}
                      className={`
                        relative p-6 rounded-3xl font-bold text-3xl md:text-4xl shadow-md transition-all duration-300
                        bg-white text-gray-700 border-b-8 border-gray-200
                        hover:scale-105 active:border-b-0 active:translate-y-2
                        ${selectedChar === 'nyam' ? 'hover:bg-green-50' : 'hover:bg-cyan-50'}
                        ${isWrong ? 'bg-red-100 text-red-500 border-red-300 animate-shake' : ''}
                      `}
                    >
                      {word}
                    </button>
                  );
                })}
              </div>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<WordTamagotchi />);
    </script>
</body>
</html>
